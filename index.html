<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>행동 계산기</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <script type="text/javascript" src="script.js"></script>

    <h1>행동 계산기</h1>

    <div class="container">
        <div class="character-manager">
            <h2>캐릭터 관리</h2>
            <div class="form-group">
                <label for="charName">이름:</label>
                <input type="text" id="charName" placeholder="캐릭터 이름" required>
            </div>
            <div class="form-group">
                <label for="baseSpeed">기본 속도:</label>
                <input type="number" id="baseSpeed" value="100" min="1" required>
            </div>
            <div class="form-group">
                <label for="initialCurrentSpeed">현재 속도:</label> 
                <input type="number" id="initialCurrentSpeed" value="100" min="1" required>
            </div>
            <button class="primary" onclick="addOrUpdateCharacter()">캐릭터 추가</button>
            <button class="secondary" onclick="clearCharacterForm()">초기화</button>

            <div id="characterList">
                <div class="character-list-header">
                    <h3>등록된 캐릭터</h3>
                    <button class="secondary" onclick="clearAllCharacters()">전체 초기화</button>
                </div>
                </div>
        </div>

        <div class="simulation-viewer">
            <h2>
                턴 시뮬레이션
                <span class="round-toggle-container">
                    <span id="roundToggleText">라운드 표시: ON</span>
                    <button id="roundToggleButton" class="round-toggle-btn on" onclick="toggleRoundMarkers()">ON/OFF</button>
                </span>
            </h2>
            <button class="primary" onclick="runSimulation()">시뮬레이션 실행</button>
            <button class="secondary" onclick="resetSimulationState()">시뮬레이션 초기화</button>
            <div id="simulationOutput" class="simulation-output">
            </div>

            <div class="data-transfer-section">
                <h3>데이터 공유</h3>
                <p>현재 캐릭터 및 라운드 이벤트 데이터를 파일로 저장하거나 불러올 수 있습니다.</p>
                <button class="primary" onclick="saveDataAsFile()">데이터 파일로 저장</button>
                <input type="file" id="loadFileInput" accept=".json" style="display: none;" onchange="loadDataFromFile(event)">
                <button class="primary" onclick="document.getElementById('loadFileInput').click()">데이터 파일 불러오기</button>
                <span id="loadStatus" style="margin-left: 10px; color: #888; font-size: 0.9em;"></span>
            </div>

        </div>
    </div>
</body>
</html>
